<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Target Cues • redcaptargets</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Target Cues">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">redcaptargets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cues.html">Target Cues</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/overdodactyl/redcaptargets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Target Cues</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/overdodactyl/redcaptargets/blob/main/vignettes/cues.Rmd" class="external-link"><code>vignettes/cues.Rmd</code></a></small>
      <div class="d-none name"><code>cues.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="re-pull-triggers-in-redcaptargets">Re-Pull Triggers in <code>redcaptargets</code><a class="anchor" aria-label="anchor" href="#re-pull-triggers-in-redcaptargets"></a>
</h2>
<p>The <code>cue</code> argument of <code><a href="../reference/tar_redcap.html">tar_redcap()</a></code> controls
when data is re-pulled from REDCap. Supported options include
<code>"logging"</code> (default), <code>"always"</code>,
<code>"thorough"</code>, and <code>"never"</code>.</p>
<div class="section level3">
<h3 id="logging-default">Logging (default)<a class="anchor" aria-label="anchor" href="#logging-default"></a>
</h3>
<p>When <code>cue = "logging"</code>, <code><a href="../reference/tar_redcap.html">tar_redcap()</a></code> inspects
the REDCap <strong>project logs</strong> and re-pulls data only when
meaningful changes are detected—such as new or modified records (for
instruments) or changes to project structure (for metadata).</p>
<blockquote>
<p><strong>Note:</strong> This behavior requires <em>log export
permissions</em> in the REDCap project. If your API token does not have
access to the project logs, this cue method will fail.</p>
</blockquote>
<p>Using logs helps avoid unnecessary data pulls and can significantly
speed up pipelines for small- to medium-sized projects.
<code>redcaptargets</code> fetches all REDCap project logs between the
<strong>last successful <code><a href="https://docs.ropensci.org/targets/reference/tar_make.html" class="external-link">tar_make()</a></code> run</strong> and
<strong>the current time</strong>, and determines whether relevant
changes occurred. However, for very large projects with long histories
or frequent activity, exporting logs over large time windows can become
slow. In such cases, consider using a different <code>cue</code>
strategy.</p>
</div>
<div class="section level3">
<h3 id="always">Always<a class="anchor" aria-label="anchor" href="#always"></a>
</h3>
<p>Setting <code>cue = "always"</code> tells <code><a href="../reference/tar_redcap.html">tar_redcap()</a></code>
to re-pull data from REDCap <strong>every time</strong> the pipeline
runs, regardless of whether any changes were made.</p>
<p>This mode is useful when:</p>
<ul>
<li>You expect frequent updates to the data and want to guarantee
freshness</li>
<li>You do <strong>not</strong> have log export permissions in
REDCap</li>
<li>You’re in the early stages of development and want to avoid stale
data</li>
<li>Your REDCap project is <strong>small</strong>, and a full re-pull is
faster than parsing the project logs</li>
</ul>
<p>For small to moderate REDCap projects, this strategy can actually be
<strong>more efficient</strong> than using the logging-based trigger.
However, for larger studies, it may lead to longer run times and
unnecessary server load.</p>
</div>
<div class="section level3">
<h3 id="thorough">Thorough<a class="anchor" aria-label="anchor" href="#thorough"></a>
</h3>
<p>Using cue = “thorough” applies the default <a href="https://docs.ropensci.org/targets/reference/tar_cue.html" class="external-link">targets</a>
invalidation rules. Under this mode, REDCap data will be re-pulled
<strong>only if a tracked input changes</strong>. This includes:</p>
<ul>
<li><p>Changes to the instrument_names argument (e.g., a new instrument
is added).</p></li>
<li><p>Changes to the code used to fetch REDCap instrument or
metadata.</p></li>
<li><p>Changes to any custom functions or global objects used within the
call to tar_redcap().</p></li>
</ul>
<p>This mode <strong>does not</strong> inspect REDCap logs. As a result,
updates to the REDCap database (such as new records or edited fields)
<strong>will not</strong> trigger a re-pull unless one of the tracked
R-side inputs changes.</p>
<p>Use cue = “thorough” when you want your pipeline to be reactive
<strong>only to R-side changes</strong>, and do <strong>not</strong>
need automatic detection of data changes on the REDCap side.</p>
</div>
<div class="section level3">
<h3 id="never">Never<a class="anchor" aria-label="anchor" href="#never"></a>
</h3>
<p>Use cue = “never” when you want the REDCap data to <strong>never be
re-pulled</strong>, regardless of changes to your code, inputs, or the
REDCap database itself.</p>
<p>This mode disables all automatic invalidation cues in the targets
pipeline, <strong>except</strong> in two cases:</p>
<ul>
<li><p>The target has <strong>never been run</strong> before (i.e., no
metadata exists).</p></li>
<li><p>The target’s <strong>last run errored</strong>.</p></li>
</ul>
<p>Once a target has run successfully, it will <strong>not</strong>
re-run—even if:</p>
<ul>
<li><p>The REDCap connection changes</p></li>
<li><p>New instruments are added</p></li>
<li><p>Fields or records are modified in REDCap</p></li>
<li><p>The pipeline code itself is edited</p></li>
</ul>
<div class="section level4">
<h4 id="when-to-use">
<strong>When to use</strong><a class="anchor" aria-label="anchor" href="#when-to-use"></a>
</h4>
<p>This mode is useful for:</p>
<ul>
<li><p>Projects that rely on a <strong>frozen snapshot</strong> of the
REDCap data</p></li>
<li><p>Environments where you want <strong>maximum
reproducibility</strong> and no accidental data changes</p></li>
<li><p>Pipelines run in <strong>restricted or production
environments</strong> where data pulls must be tightly
controlled</p></li>
</ul>
<p>If you need to manually re-run the target under this mode, use
<code><a href="https://docs.ropensci.org/targets/reference/tar_invalidate.html" class="external-link">targets::tar_invalidate()</a></code>. For example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">targets</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/targets/reference/tar_invalidate.html" class="external-link">tar_invalidate</a></span><span class="op">(</span><span class="va">redcap_metadata</span><span class="op">)</span></span>
<span><span class="fu">targets</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/targets/reference/tar_invalidate.html" class="external-link">tar_invalidate</a></span><span class="op">(</span><span class="va">redcap_instrument_a</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="section"></h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pat Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
